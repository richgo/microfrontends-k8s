{"version":3,"sources":["../../pages/_document.tsx"],"names":["dedupe","bundles","files","Set","kept","bundle","has","file","add","push","getOptionalModernScriptVariant","path","process","env","__NEXT_MODERN_BUILD","replace","getDocumentFiles","buildManifest","pathname","sharedFiles","pageFiles","allFiles","Document","Component","getInitialProps","ctx","enhanceApp","App","props","html","head","renderPage","styles","renderDocument","DocumentComponent","render","headTagsMiddleware","__NEXT_PLUGINS","Html","inAmpMode","docComponentsRendered","locale","DocumentComponentContext","lang","undefined","NODE_ENV","Head","context","getCssLinks","assetPrefix","devOnlyCacheBusterQueryString","dynamicImports","cssFiles","filter","f","endsWith","unmangedFiles","dynamicCssFiles","map","length","existing","cssLinkElements","forEach","isSharedFile","isUnmanagedFile","nonce","encodeURI","crossOrigin","__NEXT_CROSS_ORIGIN","getPreloadDynamicChunks","Boolean","getPreloadMainLinks","preloadFiles","makeStylesheetInert","node","React","Children","c","type","OPTIMIZED_FONT_PROVIDERS","some","url","startsWith","newProps","cloneElement","ampPath","hybridAmp","canonicalBase","__NEXT_DATA__","dangerousAsPath","headTags","unstable_runtimeJS","disableRuntimeJS","children","child","isReactHelmet","console","warn","name","__NEXT_OPTIMIZE_FONTS","hasAmphtmlRel","hasCanonicalRel","badProp","rel","src","indexOf","dangerouslySetInnerHTML","Object","keys","prop","page","curStyles","Array","isArray","hasStyles","el","__html","isDevelopment","count","toString","style","join","getAmpPath","createElement","Fragment","contextType","propTypes","PropTypes","string","Main","AMP_RENDER_TARGET","NextScript","getDynamicChunks","modernProps","noModule","includes","getScripts","normalScripts","lowPriorityScripts","lowPriorityFiles","getPolyfillScripts","polyfillFiles","polyfill","getInlineScriptSource","documentProps","data","JSON","stringify","err","message","Error","ampDevFiles","devFiles","safariNomoduleFix","asPath"],"mappings":"gIAAA,6DACA,qDACA,iEACA,uDAIA,oEACA,+C,mJAKA,kEAIA,mDACA,gD,w4BASA,QAASA,CAAAA,MAAT,CAA4CC,OAA5C,CAA+D,CAC7D,KAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,GAAJ,EAAd,CACA,KAAMC,CAAAA,IAAS,CAAG,EAAlB,CAEA,IAAK,KAAMC,CAAAA,MAAX,GAAqBJ,CAAAA,OAArB,CAA8B,CAC5B,GAAIC,KAAK,CAACI,GAAN,CAAUD,MAAM,CAACE,IAAjB,CAAJ,CAA4B,SAC5BL,KAAK,CAACM,GAAN,CAAUH,MAAM,CAACE,IAAjB,EACAH,IAAI,CAACK,IAAL,CAAUJ,MAAV,EACD,CACD,MAAOD,CAAAA,IAAP,CACD,CAED,QAASM,CAAAA,8BAAT,CAAwCC,IAAxC,CAA8D,CAC5D,GAAIC,OAAO,CAACC,GAAR,CAAYC,mBAAhB,CAAqC,CACnC,MAAOH,CAAAA,IAAI,CAACI,OAAL,CAAa,OAAb,CAAsB,YAAtB,CAAP,CACD,CACD,MAAOJ,CAAAA,IAAP,CACD,CAQD,QAASK,CAAAA,gBAAT,CACEC,aADF,CAEEC,QAFF,CAGiB,CACf,KAAMC,CAAAA,WAA8B,CAAG,+BAAaF,aAAb,CAA4B,OAA5B,CAAvC,CACA,KAAMG,CAAAA,SAA4B,CAAG,+BAAaH,aAAb,CAA4BC,QAA5B,CAArC,CAEA,MAAO,CACLC,WADK,CAELC,SAFK,CAGLC,QAAQ,CAAE,CAAC,GAAG,GAAIlB,CAAAA,GAAJ,CAAQ,CAAC,GAAGgB,WAAJ,CAAiB,GAAGC,SAApB,CAAR,CAAJ,CAHL,CAAP,CAKD,CAED;AACA;AACA;AACA,GACe,KAAME,CAAAA,QAAN,QAA+BC,iBAA6B,CAQzE;AACF;AACA;AACA,KACE,YAAaC,CAAAA,eAAb,CACEC,GADF,CAEiC,CAC/B,KAAMC,CAAAA,UAAU,CAAIC,GAAD,EAAc,CAC/B,MAAQC,CAAAA,KAAD,eAAgB,6BAAC,GAAD,CAASA,KAAT,CAAvB,CACD,CAFD,CAIA,KAAM,CAAEC,IAAF,CAAQC,IAAR,EAAiB,KAAML,CAAAA,GAAG,CAACM,UAAJ,CAAe,CAAEL,UAAF,CAAf,CAA7B,CACA,KAAMM,CAAAA,MAAM,CAAG,CAAC,GAAG,qBAAJ,CAAf,CACA,MAAO,CAAEH,IAAF,CAAQC,IAAR,CAAcE,MAAd,CAAP,CACD,CAED,MAAOC,CAAAA,cAAP,CACEC,iBADF,CAEEN,KAFF,CAGsB,CACpB,mBACE,6BAAC,gCAAD,CAA0B,QAA1B,EAAmC,KAAK,CAAEA,KAA1C,eACE,6BAAC,iBAAD,CAAuBA,KAAvB,CADF,CADF,CAKD,CAEDO,MAAM,EAAG,CACP,mBACE,6BAAC,IAAD,mBACE,6BAAC,IAAD,MADF,cAEE,sDACE,6BAAC,IAAD,MADF,cAEE,6BAAC,UAAD,MAFF,CAFF,CADF,CASD,CA7CwE,C,yBAAtDb,Q,CACZc,kB,CAAqBxB,OAAO,CAACC,GAAR,CAAYwB,cAAZ,4DAGtB,0DAHsB,IAKxB,IAAM,E,CA0CL,QAASC,CAAAA,IAAT,CACLV,KADK,CAKL,CACA,KAAM,CAAEW,SAAF,CAAaC,qBAAb,CAAoCC,MAApC,EAA+C,sBACnDC,gCADmD,CAArD,CAIAF,qBAAqB,CAACF,IAAtB,CAA6B,IAA7B,CAEA,mBACE,qDACMV,KADN,EAEE,IAAI,CAAEA,KAAK,CAACe,IAAN,EAAcF,MAAd,EAAwBG,SAFhC,CAGE,GAAG,CAAEL,SAAS,CAAG,EAAH,CAAQK,SAHxB,CAIE,kBACEL,SAAS,EAAI3B,OAAO,CAACC,GAAR,CAAYgC,QAAZ,GAAyB,YAAtC,CAAqD,EAArD,CAA0DD,SAL9D,GADF,CAUD,CAEM,KAAME,CAAAA,IAAN,QAAmBvB,iBAMxB,0CAQAwB,OARA,SAUAC,WAAW,CAAC9C,KAAD,CAA6C,CACtD,KAAM,CACJ+C,WADI,CAEJC,6BAFI,CAGJC,cAHI,EAIF,KAAKJ,OAJT,CAKA,KAAMK,CAAAA,QAAQ,CAAGlD,KAAK,CAACmB,QAAN,CAAegC,MAAf,CAAuBC,CAAD,EAAOA,CAAC,CAACC,QAAF,CAAW,MAAX,CAA7B,CAAjB,CACA,KAAMpC,CAAAA,WAAwB,CAAG,GAAIhB,CAAAA,GAAJ,CAAQD,KAAK,CAACiB,WAAd,CAAjC,CAEA;AACA;AACA,GAAIqC,CAAAA,aAA0B,CAAG,GAAIrD,CAAAA,GAAJ,CAAQ,EAAR,CAAjC,CACA,GAAIsD,CAAAA,eAAe,CAAGzD,MAAM,CAC1BmD,cAAc,CAACE,MAAf,CAAuBC,CAAD,EAAOA,CAAC,CAAC/C,IAAF,CAAOgD,QAAP,CAAgB,MAAhB,CAA7B,CAD0B,CAAN,CAEpBG,GAFoB,CAEfJ,CAAD,EAAOA,CAAC,CAAC/C,IAFO,CAAtB,CAGA,GAAIkD,eAAe,CAACE,MAApB,CAA4B,CAC1B,KAAMC,CAAAA,QAAQ,CAAG,GAAIzD,CAAAA,GAAJ,CAAQiD,QAAR,CAAjB,CACAK,eAAe,CAAGA,eAAe,CAACJ,MAAhB,CACfC,CAAD,EAAO,EAAEM,QAAQ,CAACtD,GAAT,CAAagD,CAAb,GAAmBnC,WAAW,CAACb,GAAZ,CAAgBgD,CAAhB,CAArB,CADS,CAAlB,CAGAE,aAAa,CAAG,GAAIrD,CAAAA,GAAJ,CAAQsD,eAAR,CAAhB,CACAL,QAAQ,CAAC3C,IAAT,CAAc,GAAGgD,eAAjB,EACD,CAED,KAAMI,CAAAA,eAA8B,CAAG,EAAvC,CACAT,QAAQ,CAACU,OAAT,CAAkBvD,IAAD,EAAU,CACzB,KAAMwD,CAAAA,YAAY,CAAG5C,WAAW,CAACb,GAAZ,CAAgBC,IAAhB,CAArB,CACA,KAAMyD,CAAAA,eAAe,CAAGR,aAAa,CAAClD,GAAd,CAAkBC,IAAlB,CAAxB,CACAsD,eAAe,CAACpD,IAAhB,cACE,qCACE,GAAG,CAAG,GAAEF,IAAK,UADf,CAEE,KAAK,CAAE,KAAKqB,KAAL,CAAWqC,KAFpB,CAGE,GAAG,CAAC,SAHN,CAIE,IAAI,CAAG,GAAEhB,WAAY,UAASiB,SAAS,CACrC3D,IADqC,CAErC,GAAE2C,6BAA8B,EANpC,CAOE,EAAE,CAAC,OAPL,CAQE,WAAW,CACT,KAAKtB,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAT1C,EADF,cAaE,qCACE,GAAG,CAAE7D,IADP,CAEE,KAAK,CAAE,KAAKqB,KAAL,CAAWqC,KAFpB,CAGE,GAAG,CAAC,YAHN,CAIE,IAAI,CAAG,GAAEhB,WAAY,UAASiB,SAAS,CACrC3D,IADqC,CAErC,GAAE2C,6BAA8B,EANpC,CAOE,WAAW,CACT,KAAKtB,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAR1C,CAUE,WAAUJ,eAAe,CAAGpB,SAAH,CAAemB,YAAY,CAAG,EAAH,CAAQnB,SAV9D,CAWE,WAAUoB,eAAe,CAAGpB,SAAH,CAAemB,YAAY,CAAGnB,SAAH,CAAe,EAXrE,EAbF,EA2BD,CA9BD,EA+BA,MAAOiB,CAAAA,eAAe,CAACF,MAAhB,GAA2B,CAA3B,CAA+B,IAA/B,CAAsCE,eAA7C,CACD,CAEDQ,uBAAuB,EAAG,CACxB,KAAM,CACJlB,cADI,CAEJF,WAFI,CAGJC,6BAHI,EAIF,KAAKH,OAJT,CAMA,MACE/C,CAAAA,MAAM,CAACmD,cAAD,CAAN,CACGO,GADH,CACQrD,MAAD,EAAY,CACf;AACA;AACA;AACA,GAAI,CAACA,MAAM,CAACE,IAAP,CAAYgD,QAAZ,CAAqB7C,8BAA8B,CAAC,KAAD,CAAnD,CAAL,CAAkE,CAChE,MAAO,KAAP,CACD,CAED,mBACE,qCACE,GAAG,CAAC,SADN,CAEE,GAAG,CAAEL,MAAM,CAACE,IAFd,CAGE,IAAI,CAAG,GAAE0C,WAAY,UAASiB,SAAS,CACrC7D,MAAM,CAACE,IAD8B,CAErC,GAAE2C,6BAA8B,EALpC,CAME,EAAE,CAAC,QANL,CAOE,KAAK,CAAE,KAAKtB,KAAL,CAAWqC,KAPpB,CAQE,WAAW,CACT,KAAKrC,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAT1C,EADF,CAcD,CAvBH,CAwBE;AAxBF,CAyBGf,MAzBH,CAyBUiB,OAzBV,CADF,CA4BD,CAEDC,mBAAmB,CAACrE,KAAD,CAA6C,CAC9D,KAAM,CAAE+C,WAAF,CAAeC,6BAAf,EAAiD,KAAKH,OAA5D,CACA,KAAMyB,CAAAA,YAAY,CAAGtE,KAAK,CAACmB,QAAN,CAAegC,MAAf,CAAuB9C,IAAD,EAAkB,CAC3D;AACA;AACA;AACA,MAAOA,CAAAA,IAAI,CAACgD,QAAL,CAAc7C,8BAA8B,CAAC,KAAD,CAA5C,CAAP,CACD,CALoB,CAArB,CAOA,MAAO,CAAC8D,YAAY,CAACb,MAAd,CACH,IADG,CAEHa,YAAY,CAACd,GAAb,CAAkBnD,IAAD,eACf,qCACE,GAAG,CAAEA,IADP,CAEE,KAAK,CAAE,KAAKqB,KAAL,CAAWqC,KAFpB,CAGE,GAAG,CAAC,SAHN,CAIE,IAAI,CAAG,GAAEhB,WAAY,UAASiB,SAAS,CACrC3D,IADqC,CAErC,GAAE2C,6BAA8B,EANpC,CAOE,EAAE,CAAC,QAPL,CAQE,WAAW,CACT,KAAKtB,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAT1C,EADF,CAFJ,CAgBD,CAEDK,mBAAmB,CAACC,IAAD,CAA6B,CAC9C,MAAOC,gBAAMC,QAAN,CAAelB,GAAf,CAAmBgB,IAAnB,CAA0BG,CAAD,EAAY,CAC1C,GACEA,CAAC,CAACC,IAAF,GAAW,MAAX,EACAD,CAAC,CAACjD,KAAF,CAAQ,MAAR,CADA,EAEAmD,oCAAyBC,IAAzB,CAA+BC,GAAD,EAASJ,CAAC,CAACjD,KAAF,CAAQ,MAAR,EAAgBsD,UAAhB,CAA2BD,GAA3B,CAAvC,CAHF,CAIE,CACA,KAAME,CAAAA,QAAQ,CAAG,CAAE,IAAIN,CAAC,CAACjD,KAAF,EAAW,EAAf,CAAF,CAAjB,CACAuD,QAAQ,CAAC,WAAD,CAAR,CAAwBA,QAAQ,CAAC,MAAD,CAAhC,CACAA,QAAQ,CAAC,MAAD,CAAR,CAAmBvC,SAAnB,CACA,mBAAO+B,eAAMS,YAAN,CAAmBP,CAAnB,CAAsBM,QAAtB,CAAP,CACD,CATD,IASO,IAAIN,CAAC,CAACjD,KAAF,EAAWiD,CAAC,CAACjD,KAAF,CAAQ,UAAR,CAAf,CAAoC,CACzCiD,CAAC,CAACjD,KAAF,CAAQ,UAAR,EAAsB,KAAK6C,mBAAL,CAAyBI,CAAC,CAACjD,KAAF,CAAQ,UAAR,CAAzB,CAAtB,CACD,CACD,MAAOiD,CAAAA,CAAP,CACD,CAdM,CAAP,CAeD,CAED1C,MAAM,EAAG,uBACP,KAAM,CACJH,MADI,CAEJqD,OAFI,CAGJ9C,SAHI,CAIJ+C,SAJI,CAKJC,aALI,CAMJC,aANI,CAOJC,eAPI,CAQJC,QARI,CASJC,kBATI,EAUF,KAAK5C,OAVT,CAWA,KAAM6C,CAAAA,gBAAgB,CAAGD,kBAAkB,GAAK,KAAhD,CAEA,KAAK5C,OAAL,CAAaP,qBAAb,CAAmCM,IAAnC,CAA0C,IAA1C,CAEA,GAAI,CAAEhB,IAAF,EAAW,KAAKiB,OAApB,CACA,GAAI8C,CAAAA,QAAQ,CAAG,KAAKjE,KAAL,CAAWiE,QAA1B,CACA;AACA,GAAIjF,OAAO,CAACC,GAAR,CAAYgC,QAAZ,GAAyB,YAA7B,CAA2C,CACzCgD,QAAQ,CAAGlB,eAAMC,QAAN,CAAelB,GAAf,CAAmBmC,QAAnB,CAA8BC,KAAD,EAAgB,kBACtD,KAAMC,CAAAA,aAAa,CAAGD,KAAH,4BAAGA,KAAK,CAAElE,KAAV,eAAG,aAAe,mBAAf,CAAtB,CACA,GAAI,CAACmE,aAAL,CAAoB,mBAClB,GAAI,CAAAD,KAAK,MAAL,QAAAA,KAAK,CAAEhB,IAAP,IAAgB,OAApB,CAA6B,CAC3BkB,OAAO,CAACC,IAAR,CACE,wGADF,EAGD,CAJD,IAIO,IACL,CAAAH,KAAK,MAAL,QAAAA,KAAK,CAAEhB,IAAP,IAAgB,MAAhB,EACA,CAAAgB,KAAK,MAAL,uBAAAA,KAAK,CAAElE,KAAP,6BAAcsE,IAAd,IAAuB,UAFlB,CAGL,CACAF,OAAO,CAACC,IAAR,CACE,2HADF,EAGD,CACF,CACD,MAAOH,CAAAA,KAAP,CACD,CAjBU,CAAX,CAkBA,GAAI,KAAKlE,KAAL,CAAWuC,WAAf,CACE6B,OAAO,CAACC,IAAR,CACE,0GADF,EAGH,CAED,GAAIrF,OAAO,CAACC,GAAR,CAAYsF,qBAAZ,EAAqC,CAAC5D,SAA1C,CAAqD,CACnDsD,QAAQ,CAAG,KAAKpB,mBAAL,CAAyBoB,QAAzB,CAAX,CACD,CAED,GAAIO,CAAAA,aAAa,CAAG,KAApB,CACA,GAAIC,CAAAA,eAAe,CAAG,KAAtB,CAEA;AACAvE,IAAI,CAAG6C,eAAMC,QAAN,CAAelB,GAAf,CAAmB5B,IAAI,EAAI,EAA3B,CAAgCgE,KAAD,EAAW,CAC/C,GAAI,CAACA,KAAL,CAAY,MAAOA,CAAAA,KAAP,CACZ,KAAM,CAAEhB,IAAF,CAAQlD,KAAR,EAAkBkE,KAAxB,CACA,GAAIvD,SAAJ,CAAe,CACb,GAAI+D,CAAAA,OAAe,CAAG,EAAtB,CAEA,GAAIxB,IAAI,GAAK,MAAT,EAAmBlD,KAAK,CAACsE,IAAN,GAAe,UAAtC,CAAkD,CAChDI,OAAO,CAAG,iBAAV,CACD,CAFD,IAEO,IAAIxB,IAAI,GAAK,MAAT,EAAmBlD,KAAK,CAAC2E,GAAN,GAAc,WAArC,CAAkD,CACvDF,eAAe,CAAG,IAAlB,CACD,CAFM,IAEA,IAAIvB,IAAI,GAAK,QAAb,CAAuB,CAC5B;AACA;AACA;AACA;AACA,GACGlD,KAAK,CAAC4E,GAAN,EAAa5E,KAAK,CAAC4E,GAAN,CAAUC,OAAV,CAAkB,YAAlB,EAAkC,CAAC,CAAjD,EACC7E,KAAK,CAAC8E,uBAAN,GACE,CAAC9E,KAAK,CAACkD,IAAP,EAAelD,KAAK,CAACkD,IAAN,GAAe,iBADhC,CAFH,CAIE,CACAwB,OAAO,CAAG,SAAV,CACAK,MAAM,CAACC,IAAP,CAAYhF,KAAZ,EAAmBkC,OAAnB,CAA4B+C,IAAD,EAAU,CACnCP,OAAO,EAAK,IAAGO,IAAK,KAAIjF,KAAK,CAACiF,IAAD,CAAO,GAApC,CACD,CAFD,EAGAP,OAAO,EAAI,IAAX,CACD,CACF,CAED,GAAIA,OAAJ,CAAa,CACXN,OAAO,CAACC,IAAR,CACG,8BAA6BH,KAAK,CAAChB,IAAK,2BAA0BwB,OAAQ,OAAMd,aAAa,CAACsB,IAAK,8CADtG,EAGA,MAAO,KAAP,CACD,CACF,CA/BD,IA+BO,CACL;AACA,GAAIhC,IAAI,GAAK,MAAT,EAAmBlD,KAAK,CAAC2E,GAAN,GAAc,SAArC,CAAgD,CAC9CH,aAAa,CAAG,IAAhB,CACD,CACF,CACD,MAAON,CAAAA,KAAP,CACD,CAzCM,CAAP,CA2CA;AACA,KAAMiB,CAAAA,SAA+B,CAAGC,KAAK,CAACC,OAAN,CAAcjF,MAAd,EACnCA,MADmC,CAEpC,EAFJ,CAGA,GACEO,SAAS,EACTP,MADA,EAEA;AACAA,MAAM,CAACJ,KAHP,EAIA;AACAoF,KAAK,CAACC,OAAN,CAAcjF,MAAM,CAACJ,KAAP,CAAaiE,QAA3B,CANF,CAOE,CACA,KAAMqB,CAAAA,SAAS,CAAIC,EAAD,6CAChBA,CAAAA,EADgB,yBAChBA,EAAE,CAAEvF,KADY,sCAChB,UAAW8E,uBADK,eAChB,sBAAoCU,MADpB,EAAlB,CAEA;AACApF,MAAM,CAACJ,KAAP,CAAaiE,QAAb,CAAsB/B,OAAtB,CAA+BgC,KAAD,EAA+B,CAC3D,GAAIkB,KAAK,CAACC,OAAN,CAAcnB,KAAd,CAAJ,CAA0B,CACxBA,KAAK,CAAChC,OAAN,CAAeqD,EAAD,EAAQD,SAAS,CAACC,EAAD,CAAT,EAAiBJ,SAAS,CAACtG,IAAV,CAAe0G,EAAf,CAAvC,EACD,CAFD,IAEO,IAAID,SAAS,CAACpB,KAAD,CAAb,CAAsB,CAC3BiB,SAAS,CAACtG,IAAV,CAAeqF,KAAf,EACD,CACF,CAND,EAOD,CAED,KAAM5F,CAAAA,KAAoB,CAAGc,gBAAgB,CAC3C,KAAK+B,OAAL,CAAa9B,aAD8B,CAE3C,KAAK8B,OAAL,CAAayC,aAAb,CAA2BsB,IAFgB,CAA7C,CAIA,mBACE,oCAAU,KAAKlF,KAAf,CACG,KAAKmB,OAAL,CAAasE,aAAb,eACC,uEACE,sCACE,0BADF,CAEE,kBAAiB9E,SAAS,CAAG,MAAH,CAAYK,SAFxC,CAGE,uBAAuB,CAAE,CACvBwE,MAAM,CAAG,oBADc,CAH3B,EADF,cAQE,yCACE,0BADF,CAEE,kBAAiB7E,SAAS,CAAG,MAAH,CAAYK,SAFxC,eAIE,sCACE,uBAAuB,CAAE,CACvBwE,MAAM,CAAG,qBADc,CAD3B,EAJF,CARF,CAFJ,CAsBGvB,QAtBH,CAuBG/D,IAvBH,cAwBE,qCACE,IAAI,CAAC,iBADP,CAEE,OAAO,CAAE6C,eAAMC,QAAN,CAAe0C,KAAf,CAAqBxF,IAAI,EAAI,EAA7B,EAAiCyF,QAAjC,EAFX,EAxBF,CA4BGhF,SAAS,eACR,uEACE,qCACE,IAAI,CAAC,UADP,CAEE,OAAO,CAAC,oDAFV,EADF,CAKG,CAAC8D,eAAD,eACC,qCACE,GAAG,CAAC,WADN,CAEE,IAAI,CAAEd,aAAa,CAAG,yBAAaE,eAAb,CAFxB,EANJ,cAYE,qCACE,GAAG,CAAC,SADN,CAEE,EAAE,CAAC,QAFL,CAGE,IAAI,CAAC,kCAHP,EAZF,CAkBGzD,MAAM,eACL,sCACE,aAAW,EADb,CAEE,uBAAuB,CAAE,CACvBoF,MAAM,CAAEL,SAAS,CACdrD,GADK,CACA8D,KAAD,EAAWA,KAAK,CAAC5F,KAAN,CAAY8E,uBAAZ,CAAoCU,MAD9C,EAELK,IAFK,CAEA,EAFA,EAGL1G,OAHK,CAGG,gCAHH,CAGqC,EAHrC,EAILA,OAJK,CAIG,0BAJH,CAI+B,EAJ/B,CADe,CAF3B,EAnBJ,cA8BE,sCACE,kBAAgB,EADlB,CAEE,uBAAuB,CAAE,CACvBqG,MAAM,CAAG,wlBADc,CAF3B,EA9BF,cAoCE,0DACE,sCACE,kBAAgB,EADlB,CAEE,uBAAuB,CAAE,CACvBA,MAAM,CAAG,oFADc,CAF3B,EADF,CApCF,cA4CE,uCAAQ,KAAK,KAAb,CAAc,GAAG,CAAC,kCAAlB,EA5CF,CA7BJ,CA4EG,CAAC7E,SAAD,eACC,0DACG,CAAC6D,aAAD,EAAkBd,SAAlB,eACC,qCACE,GAAG,CAAC,SADN,CAEE,IAAI,CAAEC,aAAa,CAAGmC,UAAU,CAACrC,OAAD,CAAUI,eAAV,CAFlC,EAFJ,CAOG7E,OAAO,CAACC,GAAR,CAAYsF,qBAAZ,CACG,KAAK1B,mBAAL,CAAyB,KAAKzB,WAAL,CAAiB9C,KAAjB,CAAzB,CADH,CAEG,KAAK8C,WAAL,CAAiB9C,KAAjB,CATN,cAUE,yCAAU,gCAAY,KAAK0B,KAAL,CAAWqC,KAAvB,0BAAgC,EAA1C,EAVF,CAWG,CAAC2B,gBAAD,EAAqB,KAAKvB,uBAAL,EAXxB,CAYG,CAACuB,gBAAD,EAAqB,KAAKrB,mBAAL,CAAyBrE,KAAzB,CAZxB,CAaG,KAAK6C,OAAL,CAAasE,aAAb,gBACC;AACA;AACA;AACA,yCAAU,EAAE,CAAC,0BAAb,EAjBJ,CAmBGrF,MAAM,EAAI,IAnBb,CA7EJ,cAmGG2C,eAAMgD,aAAN,CAAoBhD,eAAMiD,QAA1B,CAAoC,EAApC,CAAwC,IAAIlC,QAAQ,EAAI,EAAhB,CAAxC,CAnGH,CADF,CAuGD,CAzXD,C,kBANW5C,I,CAOJ+E,W,CAAcnF,gC,CAPVI,I,CASJgF,S,CAAY,CACjB7D,KAAK,CAAE8D,mBAAUC,MADA,CAEjB7D,WAAW,CAAE4D,mBAAUC,MAFN,C,CAyXd,QAASC,CAAAA,IAAT,EAAgB,CACrB,KAAM,CAAE1F,SAAF,CAAaV,IAAb,CAAmBW,qBAAnB,EAA6C,sBACjDE,gCADiD,CAAnD,CAIAF,qBAAqB,CAACyF,IAAtB,CAA6B,IAA7B,CAEA,GAAI1F,SAAJ,CAAe,mBAAO,0DAAG2F,4BAAH,CAAP,CACf,mBAAO,oCAAK,EAAE,CAAC,QAAR,CAAiB,uBAAuB,CAAE,CAAEd,MAAM,CAAEvF,IAAV,CAA1C,EAAP,CACD,CAEM,KAAMsG,CAAAA,UAAN,QAAyB5G,iBAAuB,0CAQrDwB,OARqD,SAcrDqF,gBAAgB,CAAClI,KAAD,CAAuB,CACrC,KAAM,CACJiD,cADI,CAEJF,WAFI,CAGJoE,aAHI,CAIJnE,6BAJI,EAKF,KAAKH,OALT,CAOA,MAAO/C,CAAAA,MAAM,CAACmD,cAAD,CAAN,CAAuBO,GAAvB,CAA4BrD,MAAD,EAAY,CAC5C,GAAIgI,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAIzH,OAAO,CAACC,GAAR,CAAYC,mBAAhB,CAAqC,CACnCuH,WAAW,CAAGhI,MAAM,CAACE,IAAP,CAAYgD,QAAZ,CAAqB,YAArB,EACV,CAAEuB,IAAI,CAAE,QAAR,CADU,CAEV,CAAEwD,QAAQ,CAAE,IAAZ,CAFJ,CAGD,CAED,GAAI,CAACjI,MAAM,CAACE,IAAP,CAAYgD,QAAZ,CAAqB,KAArB,CAAD,EAAgCrD,KAAK,CAACmB,QAAN,CAAekH,QAAf,CAAwBlI,MAAM,CAACE,IAA/B,CAApC,CACE,MAAO,KAAP,CAEF,mBACE,qDACE,KAAK,CAAE,CAAC8G,aADV,CAEE,GAAG,CAAEhH,MAAM,CAACE,IAFd,CAGE,GAAG,CAAG,GAAE0C,WAAY,UAASiB,SAAS,CACpC7D,MAAM,CAACE,IAD6B,CAEpC,GAAE2C,6BAA8B,EALpC,CAME,KAAK,CAAE,KAAKtB,KAAL,CAAWqC,KANpB,CAOE,WAAW,CACT,KAAKrC,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAR1C,EAUMiE,WAVN,EADF,CAcD,CAzBM,CAAP,CA0BD,CAEDG,UAAU,CAACtI,KAAD,CAAuB,2BAC/B,KAAM,CACJ+C,WADI,CAEJhC,aAFI,CAGJoG,aAHI,CAIJnE,6BAJI,EAKF,KAAKH,OALT,CAOA,KAAM0F,CAAAA,aAAa,CAAGvI,KAAK,CAACmB,QAAN,CAAegC,MAAf,CAAuB9C,IAAD,EAAUA,IAAI,CAACgD,QAAL,CAAc,KAAd,CAAhC,CAAtB,CACA,KAAMmF,CAAAA,kBAAkB,wBAAGzH,aAAa,CAAC0H,gBAAjB,eAAG,sBAAgCtF,MAAhC,CAAwC9C,IAAD,EAChEA,IAAI,CAACgD,QAAL,CAAc,KAAd,CADyB,CAA3B,CAIA,MAAO,CAAC,GAAGkF,aAAJ,CAAmB,GAAGC,kBAAtB,EAA0ChF,GAA1C,CAA+CnD,IAAD,EAAU,CAC7D,GAAI8H,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAIzH,OAAO,CAACC,GAAR,CAAYC,mBAAhB,CAAqC,CACnCuH,WAAW,CAAG9H,IAAI,CAACgD,QAAL,CAAc,YAAd,EACV,CAAEuB,IAAI,CAAE,QAAR,CADU,CAEV,CAAEwD,QAAQ,CAAE,IAAZ,CAFJ,CAGD,CAED,mBACE,qDACE,GAAG,CAAE/H,IADP,CAEE,GAAG,CAAG,GAAE0C,WAAY,UAASiB,SAAS,CACpC3D,IADoC,CAEpC,GAAE2C,6BAA8B,EAJpC,CAKE,KAAK,CAAE,KAAKtB,KAAL,CAAWqC,KALpB,CAME,KAAK,CAAE,CAACoD,aANV,CAOE,WAAW,CACT,KAAKzF,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAR1C,EAUMiE,WAVN,EADF,CAcD,CAtBM,CAAP,CAuBD,CAEDO,kBAAkB,EAAG,CACnB;AACA;AACA,KAAM,CACJ3F,WADI,CAEJhC,aAFI,CAGJiC,6BAHI,EAIF,KAAKH,OAJT,CAMA,MAAO9B,CAAAA,aAAa,CAAC4H,aAAd,CACJxF,MADI,CAEFyF,QAAD,EACEA,QAAQ,CAACvF,QAAT,CAAkB,KAAlB,GAA4B,CAACuF,QAAQ,CAACvF,QAAT,CAAkB,YAAlB,CAH5B,EAKJG,GALI,CAKCoF,QAAD,eACH,uCACE,GAAG,CAAEA,QADP,CAEE,KAAK,CAAE,KAAKlH,KAAL,CAAWqC,KAFpB,CAGE,WAAW,CACT,KAAKrC,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAJ1C,CAME,QAAQ,CAAE,IANZ,CAOE,GAAG,CAAG,GAAEnB,WAAY,UAAS6F,QAAS,GAAE5F,6BAA8B,EAPxE,EANG,CAAP,CAgBD,CAED,MAAO6F,CAAAA,qBAAP,CAA6BC,aAA7B,CAA6E,CAC3E,KAAM,CAAExD,aAAF,EAAoBwD,aAA1B,CACA,GAAI,CACF,KAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,SAAL,CAAe3D,aAAf,CAAb,CACA,MAAO,qCAAqByD,IAArB,CAAP,CACD,CAAC,MAAOG,GAAP,CAAY,CACZ,GAAIA,GAAG,CAACC,OAAJ,CAAY5C,OAAZ,CAAoB,oBAApB,CAAJ,CAA+C,CAC7C,KAAM,IAAI6C,CAAAA,KAAJ,CACH,2DAA0D9D,aAAa,CAACsB,IAAK,qDAD1E,CAAN,CAGD,CACD,KAAMsC,CAAAA,GAAN,CACD,CACF,CAEDjH,MAAM,EAAG,CACP,KAAM,CACJc,WADI,CAEJV,SAFI,CAGJtB,aAHI,CAIJ0E,kBAJI,CAKJnD,qBALI,CAMJU,6BANI,EAOF,KAAKH,OAPT,CAQA,KAAM6C,CAAAA,gBAAgB,CAAGD,kBAAkB,GAAK,KAAhD,CAEAnD,qBAAqB,CAAC2F,UAAtB,CAAmC,IAAnC,CAEA,GAAI5F,SAAJ,CAAe,CACb,GAAI3B,OAAO,CAACC,GAAR,CAAYgC,QAAZ,GAAyB,YAA7B,CAA2C,CACzC,MAAO,KAAP,CACD,CAED,KAAM0G,CAAAA,WAAW,CAAG,CAClB,GAAGtI,aAAa,CAACuI,QADC,CAElB,GAAGvI,aAAa,CAACsI,WAFC,CAApB,CAKA,mBACE,0DACG3D,gBAAgB,CAAG,IAAH,cACf,uCACE,EAAE,CAAC,eADL,CAEE,IAAI,CAAC,kBAFP,CAGE,KAAK,CAAE,KAAKhE,KAAL,CAAWqC,KAHpB,CAIE,WAAW,CACT,KAAKrC,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAL1C,CAOE,uBAAuB,CAAE,CACvBgD,MAAM,CAAEe,UAAU,CAACY,qBAAX,CAAiC,KAAKhG,OAAtC,CADe,CAP3B,CAUE,sBAVF,EAFJ,CAeGwG,WAAW,CAAC7F,GAAZ,CAAiBnD,IAAD,eACf,uCACE,GAAG,CAAEA,IADP,CAEE,GAAG,CAAG,GAAE0C,WAAY,UAAS1C,IAAK,GAAE2C,6BAA8B,EAFpE,CAGE,KAAK,CAAE,KAAKtB,KAAL,CAAWqC,KAHpB,CAIE,WAAW,CACT,KAAKrC,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAL1C,CAOE,sBAPF,EADD,CAfH,CADF,CA6BD,CAED,GAAIxD,OAAO,CAACC,GAAR,CAAYgC,QAAZ,GAAyB,YAA7B,CAA2C,CACzC,GAAI,KAAKjB,KAAL,CAAWuC,WAAf,CACE6B,OAAO,CAACC,IAAR,CACE,gHADF,EAGH,CAED,KAAM/F,CAAAA,KAAoB,CAAGc,gBAAgB,CAC3C,KAAK+B,OAAL,CAAa9B,aAD8B,CAE3C,KAAK8B,OAAL,CAAayC,aAAb,CAA2BsB,IAFgB,CAA7C,CAIA,mBACE,0DACG,CAAClB,gBAAD,EAAqB3E,aAAa,CAACuI,QAAnC,CACGvI,aAAa,CAACuI,QAAd,CAAuB9F,GAAvB,CAA4BnD,IAAD,eACzB,uCACE,GAAG,CAAEA,IADP,CAEE,GAAG,CAAG,GAAE0C,WAAY,UAASiB,SAAS,CACpC3D,IADoC,CAEpC,GAAE2C,6BAA8B,EAJpC,CAKE,KAAK,CAAE,KAAKtB,KAAL,CAAWqC,KALpB,CAME,WAAW,CACT,KAAKrC,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAP1C,EADF,CADH,CAaG,IAdN,CAeGwB,gBAAgB,CAAG,IAAH,cACf,uCACE,EAAE,CAAC,eADL,CAEE,IAAI,CAAC,kBAFP,CAGE,KAAK,CAAE,KAAKhE,KAAL,CAAWqC,KAHpB,CAIE,WAAW,CACT,KAAKrC,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAL1C,CAOE,uBAAuB,CAAE,CACvBgD,MAAM,CAAEe,UAAU,CAACY,qBAAX,CAAiC,KAAKhG,OAAtC,CADe,CAP3B,EAhBJ,CA4BGnC,OAAO,CAACC,GAAR,CAAYC,mBAAZ,EAAmC,CAAC8E,gBAApC,cACC,uCACE,KAAK,CAAE,KAAKhE,KAAL,CAAWqC,KADpB,CAEE,WAAW,CACT,KAAKrC,KAAL,CAAWuC,WAAX,EAA0BvD,OAAO,CAACC,GAAR,CAAYuD,mBAH1C,CAKE,QAAQ,CAAE,IALZ,CAME,uBAAuB,CAAE,CACvBgD,MAAM,CAAEe,UAAU,CAACsB,iBADI,CAN3B,EADD,CAWG,IAvCN,CAwCG,CAAC7D,gBAAD,EAAqB,KAAKgD,kBAAL,EAxCxB,CAyCGhD,gBAAgB,CAAG,IAAH,CAAU,KAAKwC,gBAAL,CAAsBlI,KAAtB,CAzC7B,CA0CG0F,gBAAgB,CAAG,IAAH,CAAU,KAAK4C,UAAL,CAAgBtI,KAAhB,CA1C7B,CADF,CA8CD,CAjPoD,C,8BAA1CiI,U,CACJN,W,CAAcnF,gC,CADVyF,U,CAGJL,S,CAAY,CACjB7D,KAAK,CAAE8D,mBAAUC,MADA,CAEjB7D,WAAW,CAAE4D,mBAAUC,MAFN,C,CAHRG,U,CAWJsB,iB,CACL,0T,CAwOJ,QAAS/B,CAAAA,UAAT,CAAoBrC,OAApB,CAAqCqE,MAArC,CAA6D,CAC3D,MAAOrE,CAAAA,OAAO,EAAK,GAAEqE,MAAO,GAAEA,MAAM,CAACnB,QAAP,CAAgB,GAAhB,EAAuB,GAAvB,CAA6B,GAAI,OAA/D,CACD","sourcesContent":["import PropTypes from 'prop-types'\nimport React, { Component, ReactNode, useContext } from 'react'\nimport flush from 'styled-jsx/server'\nimport {\n  AMP_RENDER_TARGET,\n  OPTIMIZED_FONT_PROVIDERS,\n} from '../next-server/lib/constants'\nimport { DocumentContext as DocumentComponentContext } from '../next-server/lib/document-context'\nimport {\n  DocumentContext,\n  DocumentInitialProps,\n  DocumentProps,\n} from '../next-server/lib/utils'\nimport {\n  BuildManifest,\n  getPageFiles,\n} from '../next-server/server/get-page-files'\nimport { cleanAmpPath } from '../next-server/server/utils'\nimport { htmlEscapeJsonString } from '../server/htmlescape'\n\nexport { DocumentContext, DocumentInitialProps, DocumentProps }\n\nexport type OriginProps = {\n  nonce?: string\n  crossOrigin?: string\n}\n\nfunction dedupe<T extends { file: string }>(bundles: T[]): T[] {\n  const files = new Set<string>()\n  const kept: T[] = []\n\n  for (const bundle of bundles) {\n    if (files.has(bundle.file)) continue\n    files.add(bundle.file)\n    kept.push(bundle)\n  }\n  return kept\n}\n\nfunction getOptionalModernScriptVariant(path: string): string {\n  if (process.env.__NEXT_MODERN_BUILD) {\n    return path.replace(/\\.js$/, '.module.js')\n  }\n  return path\n}\n\ntype DocumentFiles = {\n  sharedFiles: readonly string[]\n  pageFiles: readonly string[]\n  allFiles: readonly string[]\n}\n\nfunction getDocumentFiles(\n  buildManifest: BuildManifest,\n  pathname: string\n): DocumentFiles {\n  const sharedFiles: readonly string[] = getPageFiles(buildManifest, '/_app')\n  const pageFiles: readonly string[] = getPageFiles(buildManifest, pathname)\n\n  return {\n    sharedFiles,\n    pageFiles,\n    allFiles: [...new Set([...sharedFiles, ...pageFiles])],\n  }\n}\n\n/**\n * `Document` component handles the initial `document` markup and renders only on the server side.\n * Commonly used for implementing server side rendering for `css-in-js` libraries.\n */\nexport default class Document<P = {}> extends Component<DocumentProps & P> {\n  static headTagsMiddleware = process.env.__NEXT_PLUGINS\n    ? import(\n        // @ts-ignore loader syntax\n        'next-plugin-loader?middleware=document-head-tags-server!'\n      )\n    : () => []\n\n  /**\n   * `getInitialProps` hook returns the context object with the addition of `renderPage`.\n   * `renderPage` callback executes `React` rendering logic synchronously to support server-rendering wrappers\n   */\n  static async getInitialProps(\n    ctx: DocumentContext\n  ): Promise<DocumentInitialProps> {\n    const enhanceApp = (App: any) => {\n      return (props: any) => <App {...props} />\n    }\n\n    const { html, head } = await ctx.renderPage({ enhanceApp })\n    const styles = [...flush()]\n    return { html, head, styles }\n  }\n\n  static renderDocument<P>(\n    DocumentComponent: new () => Document<P>,\n    props: DocumentProps & P\n  ): React.ReactElement {\n    return (\n      <DocumentComponentContext.Provider value={props}>\n        <DocumentComponent {...props} />\n      </DocumentComponentContext.Provider>\n    )\n  }\n\n  render() {\n    return (\n      <Html>\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    )\n  }\n}\n\nexport function Html(\n  props: React.DetailedHTMLProps<\n    React.HtmlHTMLAttributes<HTMLHtmlElement>,\n    HTMLHtmlElement\n  >\n) {\n  const { inAmpMode, docComponentsRendered, locale } = useContext(\n    DocumentComponentContext\n  )\n\n  docComponentsRendered.Html = true\n\n  return (\n    <html\n      {...props}\n      lang={props.lang || locale || undefined}\n      amp={inAmpMode ? '' : undefined}\n      data-ampdevmode={\n        inAmpMode && process.env.NODE_ENV !== 'production' ? '' : undefined\n      }\n    />\n  )\n}\n\nexport class Head extends Component<\n  OriginProps &\n    React.DetailedHTMLProps<\n      React.HTMLAttributes<HTMLHeadElement>,\n      HTMLHeadElement\n    >\n> {\n  static contextType = DocumentComponentContext\n\n  static propTypes = {\n    nonce: PropTypes.string,\n    crossOrigin: PropTypes.string,\n  }\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  getCssLinks(files: DocumentFiles): JSX.Element[] | null {\n    const {\n      assetPrefix,\n      devOnlyCacheBusterQueryString,\n      dynamicImports,\n    } = this.context\n    const cssFiles = files.allFiles.filter((f) => f.endsWith('.css'))\n    const sharedFiles: Set<string> = new Set(files.sharedFiles)\n\n    // Unmanaged files are CSS files that will be handled directly by the\n    // webpack runtime (`mini-css-extract-plugin`).\n    let unmangedFiles: Set<string> = new Set([])\n    let dynamicCssFiles = dedupe(\n      dynamicImports.filter((f) => f.file.endsWith('.css'))\n    ).map((f) => f.file)\n    if (dynamicCssFiles.length) {\n      const existing = new Set(cssFiles)\n      dynamicCssFiles = dynamicCssFiles.filter(\n        (f) => !(existing.has(f) || sharedFiles.has(f))\n      )\n      unmangedFiles = new Set(dynamicCssFiles)\n      cssFiles.push(...dynamicCssFiles)\n    }\n\n    const cssLinkElements: JSX.Element[] = []\n    cssFiles.forEach((file) => {\n      const isSharedFile = sharedFiles.has(file)\n      const isUnmanagedFile = unmangedFiles.has(file)\n      cssLinkElements.push(\n        <link\n          key={`${file}-preload`}\n          nonce={this.props.nonce}\n          rel=\"preload\"\n          href={`${assetPrefix}/_next/${encodeURI(\n            file\n          )}${devOnlyCacheBusterQueryString}`}\n          as=\"style\"\n          crossOrigin={\n            this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n          }\n        />,\n        <link\n          key={file}\n          nonce={this.props.nonce}\n          rel=\"stylesheet\"\n          href={`${assetPrefix}/_next/${encodeURI(\n            file\n          )}${devOnlyCacheBusterQueryString}`}\n          crossOrigin={\n            this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n          }\n          data-n-g={isUnmanagedFile ? undefined : isSharedFile ? '' : undefined}\n          data-n-p={isUnmanagedFile ? undefined : isSharedFile ? undefined : ''}\n        />\n      )\n    })\n    return cssLinkElements.length === 0 ? null : cssLinkElements\n  }\n\n  getPreloadDynamicChunks() {\n    const {\n      dynamicImports,\n      assetPrefix,\n      devOnlyCacheBusterQueryString,\n    } = this.context\n\n    return (\n      dedupe(dynamicImports)\n        .map((bundle) => {\n          // `dynamicImports` will contain both `.js` and `.module.js` when the\n          // feature is enabled. This clause will filter down to the modern\n          // variants only.\n          if (!bundle.file.endsWith(getOptionalModernScriptVariant('.js'))) {\n            return null\n          }\n\n          return (\n            <link\n              rel=\"preload\"\n              key={bundle.file}\n              href={`${assetPrefix}/_next/${encodeURI(\n                bundle.file\n              )}${devOnlyCacheBusterQueryString}`}\n              as=\"script\"\n              nonce={this.props.nonce}\n              crossOrigin={\n                this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n              }\n            />\n          )\n        })\n        // Filter out nulled scripts\n        .filter(Boolean)\n    )\n  }\n\n  getPreloadMainLinks(files: DocumentFiles): JSX.Element[] | null {\n    const { assetPrefix, devOnlyCacheBusterQueryString } = this.context\n    const preloadFiles = files.allFiles.filter((file: string) => {\n      // `dynamicImports` will contain both `.js` and `.module.js` when\n      // the feature is enabled. This clause will filter down to the\n      // modern variants only.\n      return file.endsWith(getOptionalModernScriptVariant('.js'))\n    })\n\n    return !preloadFiles.length\n      ? null\n      : preloadFiles.map((file: string) => (\n          <link\n            key={file}\n            nonce={this.props.nonce}\n            rel=\"preload\"\n            href={`${assetPrefix}/_next/${encodeURI(\n              file\n            )}${devOnlyCacheBusterQueryString}`}\n            as=\"script\"\n            crossOrigin={\n              this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n            }\n          />\n        ))\n  }\n\n  makeStylesheetInert(node: ReactNode): ReactNode {\n    return React.Children.map(node, (c: any) => {\n      if (\n        c.type === 'link' &&\n        c.props['href'] &&\n        OPTIMIZED_FONT_PROVIDERS.some((url) => c.props['href'].startsWith(url))\n      ) {\n        const newProps = { ...(c.props || {}) }\n        newProps['data-href'] = newProps['href']\n        newProps['href'] = undefined\n        return React.cloneElement(c, newProps)\n      } else if (c.props && c.props['children']) {\n        c.props['children'] = this.makeStylesheetInert(c.props['children'])\n      }\n      return c\n    })\n  }\n\n  render() {\n    const {\n      styles,\n      ampPath,\n      inAmpMode,\n      hybridAmp,\n      canonicalBase,\n      __NEXT_DATA__,\n      dangerousAsPath,\n      headTags,\n      unstable_runtimeJS,\n    } = this.context\n    const disableRuntimeJS = unstable_runtimeJS === false\n\n    this.context.docComponentsRendered.Head = true\n\n    let { head } = this.context\n    let children = this.props.children\n    // show a warning if Head contains <title> (only in development)\n    if (process.env.NODE_ENV !== 'production') {\n      children = React.Children.map(children, (child: any) => {\n        const isReactHelmet = child?.props?.['data-react-helmet']\n        if (!isReactHelmet) {\n          if (child?.type === 'title') {\n            console.warn(\n              \"Warning: <title> should not be used in _document.js's <Head>. https://err.sh/next.js/no-document-title\"\n            )\n          } else if (\n            child?.type === 'meta' &&\n            child?.props?.name === 'viewport'\n          ) {\n            console.warn(\n              \"Warning: viewport meta tags should not be used in _document.js's <Head>. https://err.sh/next.js/no-document-viewport-meta\"\n            )\n          }\n        }\n        return child\n      })\n      if (this.props.crossOrigin)\n        console.warn(\n          'Warning: `Head` attribute `crossOrigin` is deprecated. https://err.sh/next.js/doc-crossorigin-deprecated'\n        )\n    }\n\n    if (process.env.__NEXT_OPTIMIZE_FONTS && !inAmpMode) {\n      children = this.makeStylesheetInert(children)\n    }\n\n    let hasAmphtmlRel = false\n    let hasCanonicalRel = false\n\n    // show warning and remove conflicting amp head tags\n    head = React.Children.map(head || [], (child) => {\n      if (!child) return child\n      const { type, props } = child\n      if (inAmpMode) {\n        let badProp: string = ''\n\n        if (type === 'meta' && props.name === 'viewport') {\n          badProp = 'name=\"viewport\"'\n        } else if (type === 'link' && props.rel === 'canonical') {\n          hasCanonicalRel = true\n        } else if (type === 'script') {\n          // only block if\n          // 1. it has a src and isn't pointing to ampproject's CDN\n          // 2. it is using dangerouslySetInnerHTML without a type or\n          // a type of text/javascript\n          if (\n            (props.src && props.src.indexOf('ampproject') < -1) ||\n            (props.dangerouslySetInnerHTML &&\n              (!props.type || props.type === 'text/javascript'))\n          ) {\n            badProp = '<script'\n            Object.keys(props).forEach((prop) => {\n              badProp += ` ${prop}=\"${props[prop]}\"`\n            })\n            badProp += '/>'\n          }\n        }\n\n        if (badProp) {\n          console.warn(\n            `Found conflicting amp tag \"${child.type}\" with conflicting prop ${badProp} in ${__NEXT_DATA__.page}. https://err.sh/next.js/conflicting-amp-tag`\n          )\n          return null\n        }\n      } else {\n        // non-amp mode\n        if (type === 'link' && props.rel === 'amphtml') {\n          hasAmphtmlRel = true\n        }\n      }\n      return child\n    })\n\n    // try to parse styles from fragment for backwards compat\n    const curStyles: React.ReactElement[] = Array.isArray(styles)\n      ? (styles as React.ReactElement[])\n      : []\n    if (\n      inAmpMode &&\n      styles &&\n      // @ts-ignore Property 'props' does not exist on type ReactElement\n      styles.props &&\n      // @ts-ignore Property 'props' does not exist on type ReactElement\n      Array.isArray(styles.props.children)\n    ) {\n      const hasStyles = (el: React.ReactElement) =>\n        el?.props?.dangerouslySetInnerHTML?.__html\n      // @ts-ignore Property 'props' does not exist on type ReactElement\n      styles.props.children.forEach((child: React.ReactElement) => {\n        if (Array.isArray(child)) {\n          child.forEach((el) => hasStyles(el) && curStyles.push(el))\n        } else if (hasStyles(child)) {\n          curStyles.push(child)\n        }\n      })\n    }\n\n    const files: DocumentFiles = getDocumentFiles(\n      this.context.buildManifest,\n      this.context.__NEXT_DATA__.page\n    )\n    return (\n      <head {...this.props}>\n        {this.context.isDevelopment && (\n          <>\n            <style\n              data-next-hide-fouc\n              data-ampdevmode={inAmpMode ? 'true' : undefined}\n              dangerouslySetInnerHTML={{\n                __html: `body{display:none}`,\n              }}\n            />\n            <noscript\n              data-next-hide-fouc\n              data-ampdevmode={inAmpMode ? 'true' : undefined}\n            >\n              <style\n                dangerouslySetInnerHTML={{\n                  __html: `body{display:block}`,\n                }}\n              />\n            </noscript>\n          </>\n        )}\n        {children}\n        {head}\n        <meta\n          name=\"next-head-count\"\n          content={React.Children.count(head || []).toString()}\n        />\n        {inAmpMode && (\n          <>\n            <meta\n              name=\"viewport\"\n              content=\"width=device-width,minimum-scale=1,initial-scale=1\"\n            />\n            {!hasCanonicalRel && (\n              <link\n                rel=\"canonical\"\n                href={canonicalBase + cleanAmpPath(dangerousAsPath)}\n              />\n            )}\n            {/* https://www.ampproject.org/docs/fundamentals/optimize_amp#optimize-the-amp-runtime-loading */}\n            <link\n              rel=\"preload\"\n              as=\"script\"\n              href=\"https://cdn.ampproject.org/v0.js\"\n            />\n            {/* Add custom styles before AMP styles to prevent accidental overrides */}\n            {styles && (\n              <style\n                amp-custom=\"\"\n                dangerouslySetInnerHTML={{\n                  __html: curStyles\n                    .map((style) => style.props.dangerouslySetInnerHTML.__html)\n                    .join('')\n                    .replace(/\\/\\*# sourceMappingURL=.*\\*\\//g, '')\n                    .replace(/\\/\\*@ sourceURL=.*?\\*\\//g, ''),\n                }}\n              />\n            )}\n            <style\n              amp-boilerplate=\"\"\n              dangerouslySetInnerHTML={{\n                __html: `body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}`,\n              }}\n            />\n            <noscript>\n              <style\n                amp-boilerplate=\"\"\n                dangerouslySetInnerHTML={{\n                  __html: `body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}`,\n                }}\n              />\n            </noscript>\n            <script async src=\"https://cdn.ampproject.org/v0.js\" />\n          </>\n        )}\n        {!inAmpMode && (\n          <>\n            {!hasAmphtmlRel && hybridAmp && (\n              <link\n                rel=\"amphtml\"\n                href={canonicalBase + getAmpPath(ampPath, dangerousAsPath)}\n              />\n            )}\n            {process.env.__NEXT_OPTIMIZE_FONTS\n              ? this.makeStylesheetInert(this.getCssLinks(files))\n              : this.getCssLinks(files)}\n            <noscript data-n-css={this.props.nonce ?? ''} />\n            {!disableRuntimeJS && this.getPreloadDynamicChunks()}\n            {!disableRuntimeJS && this.getPreloadMainLinks(files)}\n            {this.context.isDevelopment && (\n              // this element is used to mount development styles so the\n              // ordering matches production\n              // (by default, style-loader injects at the bottom of <head />)\n              <noscript id=\"__next_css__DO_NOT_USE__\" />\n            )}\n            {styles || null}\n          </>\n        )}\n        {React.createElement(React.Fragment, {}, ...(headTags || []))}\n      </head>\n    )\n  }\n}\n\nexport function Main() {\n  const { inAmpMode, html, docComponentsRendered } = useContext(\n    DocumentComponentContext\n  )\n\n  docComponentsRendered.Main = true\n\n  if (inAmpMode) return <>{AMP_RENDER_TARGET}</>\n  return <div id=\"__next\" dangerouslySetInnerHTML={{ __html: html }} />\n}\n\nexport class NextScript extends Component<OriginProps> {\n  static contextType = DocumentComponentContext\n\n  static propTypes = {\n    nonce: PropTypes.string,\n    crossOrigin: PropTypes.string,\n  }\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  // Source: https://gist.github.com/samthor/64b114e4a4f539915a95b91ffd340acc\n  static safariNomoduleFix =\n    '!function(){var e=document,t=e.createElement(\"script\");if(!(\"noModule\"in t)&&\"onbeforeload\"in t){var n=!1;e.addEventListener(\"beforeload\",function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute(\"nomodule\")||!n)return;e.preventDefault()},!0),t.type=\"module\",t.src=\".\",e.head.appendChild(t),t.remove()}}();'\n\n  getDynamicChunks(files: DocumentFiles) {\n    const {\n      dynamicImports,\n      assetPrefix,\n      isDevelopment,\n      devOnlyCacheBusterQueryString,\n    } = this.context\n\n    return dedupe(dynamicImports).map((bundle) => {\n      let modernProps = {}\n      if (process.env.__NEXT_MODERN_BUILD) {\n        modernProps = bundle.file.endsWith('.module.js')\n          ? { type: 'module' }\n          : { noModule: true }\n      }\n\n      if (!bundle.file.endsWith('.js') || files.allFiles.includes(bundle.file))\n        return null\n\n      return (\n        <script\n          async={!isDevelopment}\n          key={bundle.file}\n          src={`${assetPrefix}/_next/${encodeURI(\n            bundle.file\n          )}${devOnlyCacheBusterQueryString}`}\n          nonce={this.props.nonce}\n          crossOrigin={\n            this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n          }\n          {...modernProps}\n        />\n      )\n    })\n  }\n\n  getScripts(files: DocumentFiles) {\n    const {\n      assetPrefix,\n      buildManifest,\n      isDevelopment,\n      devOnlyCacheBusterQueryString,\n    } = this.context\n\n    const normalScripts = files.allFiles.filter((file) => file.endsWith('.js'))\n    const lowPriorityScripts = buildManifest.lowPriorityFiles?.filter((file) =>\n      file.endsWith('.js')\n    )\n\n    return [...normalScripts, ...lowPriorityScripts].map((file) => {\n      let modernProps = {}\n      if (process.env.__NEXT_MODERN_BUILD) {\n        modernProps = file.endsWith('.module.js')\n          ? { type: 'module' }\n          : { noModule: true }\n      }\n\n      return (\n        <script\n          key={file}\n          src={`${assetPrefix}/_next/${encodeURI(\n            file\n          )}${devOnlyCacheBusterQueryString}`}\n          nonce={this.props.nonce}\n          async={!isDevelopment}\n          crossOrigin={\n            this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n          }\n          {...modernProps}\n        />\n      )\n    })\n  }\n\n  getPolyfillScripts() {\n    // polyfills.js has to be rendered as nomodule without async\n    // It also has to be the first script to load\n    const {\n      assetPrefix,\n      buildManifest,\n      devOnlyCacheBusterQueryString,\n    } = this.context\n\n    return buildManifest.polyfillFiles\n      .filter(\n        (polyfill) =>\n          polyfill.endsWith('.js') && !polyfill.endsWith('.module.js')\n      )\n      .map((polyfill) => (\n        <script\n          key={polyfill}\n          nonce={this.props.nonce}\n          crossOrigin={\n            this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n          }\n          noModule={true}\n          src={`${assetPrefix}/_next/${polyfill}${devOnlyCacheBusterQueryString}`}\n        />\n      ))\n  }\n\n  static getInlineScriptSource(documentProps: Readonly<DocumentProps>): string {\n    const { __NEXT_DATA__ } = documentProps\n    try {\n      const data = JSON.stringify(__NEXT_DATA__)\n      return htmlEscapeJsonString(data)\n    } catch (err) {\n      if (err.message.indexOf('circular structure')) {\n        throw new Error(\n          `Circular structure in \"getInitialProps\" result of page \"${__NEXT_DATA__.page}\". https://err.sh/vercel/next.js/circular-structure`\n        )\n      }\n      throw err\n    }\n  }\n\n  render() {\n    const {\n      assetPrefix,\n      inAmpMode,\n      buildManifest,\n      unstable_runtimeJS,\n      docComponentsRendered,\n      devOnlyCacheBusterQueryString,\n    } = this.context\n    const disableRuntimeJS = unstable_runtimeJS === false\n\n    docComponentsRendered.NextScript = true\n\n    if (inAmpMode) {\n      if (process.env.NODE_ENV === 'production') {\n        return null\n      }\n\n      const ampDevFiles = [\n        ...buildManifest.devFiles,\n        ...buildManifest.ampDevFiles,\n      ]\n\n      return (\n        <>\n          {disableRuntimeJS ? null : (\n            <script\n              id=\"__NEXT_DATA__\"\n              type=\"application/json\"\n              nonce={this.props.nonce}\n              crossOrigin={\n                this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n              }\n              dangerouslySetInnerHTML={{\n                __html: NextScript.getInlineScriptSource(this.context),\n              }}\n              data-ampdevmode\n            />\n          )}\n          {ampDevFiles.map((file) => (\n            <script\n              key={file}\n              src={`${assetPrefix}/_next/${file}${devOnlyCacheBusterQueryString}`}\n              nonce={this.props.nonce}\n              crossOrigin={\n                this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n              }\n              data-ampdevmode\n            />\n          ))}\n        </>\n      )\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.props.crossOrigin)\n        console.warn(\n          'Warning: `NextScript` attribute `crossOrigin` is deprecated. https://err.sh/next.js/doc-crossorigin-deprecated'\n        )\n    }\n\n    const files: DocumentFiles = getDocumentFiles(\n      this.context.buildManifest,\n      this.context.__NEXT_DATA__.page\n    )\n    return (\n      <>\n        {!disableRuntimeJS && buildManifest.devFiles\n          ? buildManifest.devFiles.map((file: string) => (\n              <script\n                key={file}\n                src={`${assetPrefix}/_next/${encodeURI(\n                  file\n                )}${devOnlyCacheBusterQueryString}`}\n                nonce={this.props.nonce}\n                crossOrigin={\n                  this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n                }\n              />\n            ))\n          : null}\n        {disableRuntimeJS ? null : (\n          <script\n            id=\"__NEXT_DATA__\"\n            type=\"application/json\"\n            nonce={this.props.nonce}\n            crossOrigin={\n              this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n            }\n            dangerouslySetInnerHTML={{\n              __html: NextScript.getInlineScriptSource(this.context),\n            }}\n          />\n        )}\n        {process.env.__NEXT_MODERN_BUILD && !disableRuntimeJS ? (\n          <script\n            nonce={this.props.nonce}\n            crossOrigin={\n              this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n            }\n            noModule={true}\n            dangerouslySetInnerHTML={{\n              __html: NextScript.safariNomoduleFix,\n            }}\n          />\n        ) : null}\n        {!disableRuntimeJS && this.getPolyfillScripts()}\n        {disableRuntimeJS ? null : this.getDynamicChunks(files)}\n        {disableRuntimeJS ? null : this.getScripts(files)}\n      </>\n    )\n  }\n}\n\nfunction getAmpPath(ampPath: string, asPath: string): string {\n  return ampPath || `${asPath}${asPath.includes('?') ? '&' : '?'}amp=1`\n}\n"]}